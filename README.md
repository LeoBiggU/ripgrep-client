# 项目介绍
这是一个基于 ripgrep 命令实现的文本检索UI客户端工具，用于在指定目录下检索文本内容并展示匹配行。


# 前置要求：
1. 本地有安装 python 环境
2. 本地有 chrome 或 edge 浏览器 
> - 本项目依赖的 ripgrep 使用项目自带的 rg.exe, 需要在windows系统使用
> - 若希望使用通过vscode打开对应匹配行文件，请保证有安装vscode，且 `code` 命令已配置在环境变量中  


# 启动项目
1.切换到项目根目录后打开命令行执行命令
2.下载依赖的包
```bash
pip install -r requirements.txt
```
3.启动项目
```bash
python main.py
```

# 使用说明
1. 选择一个目录作为检索的根目录，选择目录后左侧会现在目录下的内容，点击其中复选框可以用于缩小检索范围
2. 输入搜索内容点击【搜索】按钮可在目标目录范围内检索文本找出批量的文件和匹配行并展示在下方区域
3. 搜索出来的匹配行提供了三种友好操作
    - 鼠标左键点击文件层级或文本匹配行，左侧目录会聚焦对应的文件
    - 鼠标左键点击文本匹配行，会划掉当前行，用于标记排除当前目标，方便遍历检查需求
    - 鼠标右键点击文本匹配行，会在VSCode打开对应文件并找到指定行

## 其他说明
- 【类型】输入框：用于输入文件类型后缀，让检索只考虑对应类型的文件，输入如 `ts,vue,cshtml`
- 【在目录打开】选项：默认右键文本匹配行会在VSCode打开单个文件，勾选时改为在搜索根目录基础上打开
- 【高级选项】按钮：用于补充一些 ripgrep 的原生参数，充分利用原生能力丰富检索体验


# 打包为可执行文件exe

本项目支持打包为独立的Windows可执行文件，无需安装Python环境即可运行。

## 打包步骤

1. **安装打包工具**
   ```bash
   pip install pyinstaller
   ```

2. **执行打包命令**
   ```bash
   pyinstaller ripgrep_client.spec
   ```

3. **获取可执行文件**
   打包完成后，可执行文件会生成在 `dist` 目录中：
   - `dist/RipGrep Client.exe`：双击即可运行的应用程序

## 打包配置说明

- **配置文件**：`ripgrep_client.spec` 包含了打包的详细配置
- **包含文件**：
  - 主脚本 `main.py`
  - Web界面资源 `web/` 目录
  - 核心工具 `rg.exe` 可执行文件
  - 所有必要的Python依赖包

- **打包特性**：
  - 无控制台窗口，直接显示GUI界面
  - 使用UPX压缩，减小可执行文件体积
  - 单文件打包，便于分发和使用

## 使用打包后的应用

1. 直接双击 `dist/RipGrep Client.exe` 文件启动应用
2. 功能与通过Python命令运行时完全相同
3. 可以将可执行文件复制到任何位置使用

> **注意**：打包后的应用仅支持Windows系统，与项目自带的 `rg.exe` 工具兼容。